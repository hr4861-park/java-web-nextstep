# 2장. 문자여 계산기 구현을 통한 테스트와 리팩토링

# 일반적인 테스트 방법

- 원하는 클래스에 `main()` 메소드를 만들어 콘솔에 출력한다.
- 문제점
    - 프로덕션 코드와 테스트 코드가 동일 클래스에 위치
        - 테스트단계에서만 필요한 코드를 서비스 시점에 배포할 필요가 있는가?
    - main 메소드에 테스트하고자 하는 모든것들을 넣어야 함.(개별 테스트 불가)
    - 테스트 결과를 매번 콘솔에 출력되는 값을 통해 수동으로 확인해야 함
        - 개발한지 얼마 안되었거나, 로직이 심플한 경우에는 OK, 하지만 그 반대라면?
    - 그래서 `테스트 프레임워크` 를 사용한다.

# JUnit

<aside>
💡 책에서는 Junit4 기준이지만, 현재는 Junit5 가 나와있기 때문에 Junit5 기준으로 설명.

</aside>

단위 테스트 프레임워크 중 하나이며, 위의 `일반적인 테스트 방법` 에서 서술한 문제들을 해결 할 수 있음.

- 프로덕션 코드와 별개로 테스트 코드만 실행시킬 수 있음. (`gradle test`)
- 테스트하고자 하는 코드만 `@Test` 어노테이션을 붙인 메소드를 만들어 테스트를 진행할 수 있음.
- 기대하고자 하는 값과 비교하는 것을 프로그램화 할 수 있음.

## 지원하는 어노테이션

- @BeforeEach : 테스트 실행전에 항상 실행되는 메소드. 테스트에 필요한 객체를 준비할때 사용하면 Good.
- @AfterEach : 테스트 실행 후에 항상 실행되는 메소드. 테스트 완료 후 메모리 정리 등이 필요할 경우 사용하면 Good.

# 리팩토링

## 요구사항을 작은 단위로 나누기

- 복잡한 문제를 작은 단위로 나눠 좀 더 쉬운 문제로 만든다.
- 끊임없이 연습해봐야 함.

## 모든 단계의 끝은 리팩토링

- 코드의 복잡도가 쉽게 증가하는 이유는 요구사항 완료 후 `리팩토링` 을 진행하지 않고 다음 단계로 넘어가기 때문.
- `구현 → 테스트` 가 완료가 아니라, `구현 -> 테스트 -> 리팩토링` 이 작업의 완료.
