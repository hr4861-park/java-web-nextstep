# 의존관계 주입(이하 DI)를 통한 테스트하기 쉬운 코드 만들기


## 왜 DI가 필요한가?

- 객체 혼자 모든일을 처리하기 힘들기 때문에, 다른 객체에게 작업을 위임하기 위함
- 객체를 생성하는 책임과 사용하는 책임을 분리하는 것이 핵심
- 코딩량이 늘어나고, 약간의 복잡도가 올라갈 수 있으나, 프레임워크의 도움을 받으면 매우 쉽다.
- 테스트 하기 매우 쉽다.
  - 의존성이 있는 것들을 Mocking 하여 주입함으로써 손쉽게 테스트를 구현할 수 있다.

## DI 보다 우선하는 객체지향 개발

- 계층형 아키텍처와 객체지향 설계에서 핵심 비즈니스 로직을 구현하는 것은 `Service` 가 아니다.
- 이는 도메인 객체의 역할이고, 도메인 객체들이 비즈니스를 구현할 수 있도록 도메인 객체를 조합하거나 완료시 상태값을 DAO를 통해 DB에 저장하는 등의 역할을 담당해야 한다.
- QnaService의 deleteQuestion() 과 같이 구현하는 것은 대표적인 절차지향 개발
  - 이러한 형태로 개발하다보면 도메인 객체는 getter, setter 만 남고 DB, 혹은 뷰에 데이터를 전달하는 역할만 수행하게끔 되는 경우가 태반
